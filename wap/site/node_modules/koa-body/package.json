{
  "name": "koa-body",
  "version": "0.1.0",
  "description": "koa middleware that parses request body",
  "files": [
    "index.js",
    "example.js",
    "test.js",
    "README.md",
    "LICENSE",
    "Makefile",
    ".gitignore",
    ".npmignore"
  ],
  "scripts": {
    "start": "make start",
    "test": "make test"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/dlau/koa-body"
  },
  "keywords": [
    "koa",
    "request",
    "middleware",
    "bodyparser",
    "parse",
    "json",
    "bodyjson",
    "parsejson",
    "parseform",
    "form"
  ],
  "dependencies": {
    "co-body": "*"
  },
  "devDependencies": {
    "koa": "*",
    "mocha": "*",
    "should": "*",
    "supertest": "*"
  },
  "contributors": [
    {
      "name": "Daryl Lau"
    },
    {
      "name": "Charlike Mike Reagent"
    }
  ],
  "author": {
    "name": "Daryl Lau",
    "url": "http://weak.io/"
  },
  "license": "MIT",
  "readme": "koa-body [![Build Status](https://travis-ci.org/dlau/koa-body.png)](https://travis-ci.org/dlau/koa-body) [![Dependencies Status](https://david-dm.org/dlau/koa-body/status.svg)](https://david-dm.org/dlau/koa-body)\n================\n\nKoaJS middleware that patch body (to Koa#req.body or Node#request.body, or bother) and parse body to json/form with co-body.\n[koa](https://github.com/koajs/koa) middleware for parsing a request body.\nThis is a simple wrapper around [co-body](https://github.com/co/co-body). Provides similar functionality to the express's [request body parser](http://expressjs.com/api.html#req.body)\n\nDoesn't support multipart. [Discuss](https://github.com/dlau/koa-body/issues/1)\n\n\n## Install\n```\n$ npm install koa-body\n```\n\n\n## Options\nInitialize koa-better-body middleware with the given `options`:\n- **patchNode** Set the body parameter in the **Node** request object `this.req.body`\n  *defauls to false*\n- **patchKoa** Set the body parameter in the **Koa** request object `this.request.body`\n  *defaults to true*\n- **jsonLimit** limits application/json request body, co-body's option\n  *defauls to '1mb'*\n- **formLimit** limits application/x-www-form-urlencoded request body, co-body's option\n  *defauls to '56kb'*\n- **encoding** request encoding, co-body's option\n  *defauls to 'utf-8'*\n\n\n## Usage\n```js\nvar app        = require('koa')()\n  , betterBody = require('./index');\n  \n/**\n * By default body is patching to\n * Koa's ctx.request\n */\napp.use(betterBody({patchNode: false, jsonLimit: '1kb', formLimit: '1kb'}));\n\napp.use(function *(next){\n  var patchKoa  = (this.request.body) ? this.request.body : 'patchKoa=true, by default';\n  var patchNode = (this.req.body) ? this.req.body : 'patchNode=false, by default';\n\n  if (this.request.method == 'POST') {\n    this.status = 201;\n  } else if (this.request.method == 'GET') {\n    this.status = 200\n  }\n\n  this.body = JSON.stringify({koa: patchKoa, node: patchNode});\n\n  if (this.request.method == 'PUT') {\n    this.status = 200;\n    this.body = 'resource updated successfully';\n  }\n  if (this.request.method == 'DELETE') {\n    this.status = 204;\n    this.body = 'resource deleted successfully';\n  }\n});\n\nvar port = process.env.PORT || 3333;\napp.listen(port);\nconsole.log('Koa server start listening to port '+port);\n```\n\n## Usage with [koa-router](https://github.com/alexmingoia/koa-router)\n> It's generally better to only parse the body as needed, if using a router that supports middleware composition, we can inject it only for certain routes.\n\n```js\nvar app     = require('koa')(),\n    router  = require('koa-router'),\n    koaBody = require('koa-body')();\n\napp.use(router());\n\napp.post('/users', koaBody,\n  function *(next) {\n    console.log(this.request.body);\n    // => POST body\n  }\n);\n```\n\n## Features\n- 14 passing (174ms) tests\n- co-body options: jsonLimit, formLimit, encoding\n- freedom to choose - patch body to\n  * KoaJS Context `this.request.body`\n  * NodeJS Context `this.req.body`\n- only 1 dependency: `co-body`\n\n## Test, Bench, Example\nFirst run `npm install` before run anything.\n```\nnpm test\nnpm start\n```\n\n## Credit\n\n|[![Daryl Lau](https://avatars2.githubusercontent.com/u/2764274?s=144)](https://github.com/dlau)| [![Charlike Mike Reagent](https://avatars2.githubusercontent.com/u/5038030?s=144)](https://github.com/tunnckoCore)|\n|---|---|\n|[Daryl Lau](https://github.com/dlau) (creator) | [George Yanev](https://github.com/tunnckoCore) (contrib)|\n\n## LICENSE\nThe MIT License, 2014 [Daryl Lau](http://weak.io) ([@daryllau](https://twitter.com/tunnckoCore)), [Charlike Mike Reagent](https://github.com/tunnckoCore) ([@tunnckoCore](https://twitter.com/tunnckoCore))\n\n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/dlau/koa-body/issues"
  },
  "homepage": "https://github.com/dlau/koa-body",
  "_id": "koa-body@0.1.0",
  "_from": "koa-body@^0.1.0"
}
