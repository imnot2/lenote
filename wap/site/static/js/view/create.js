define(['backbone', 'model/user', 'model/note', 'gmu'], function(Backbone, user, note, gmu){    return Backbone.View.extend({        el: 'body',        initialize: function(){            this.toolbar = new gmu.Toolbar('.toolbar .wrap', {                title: '',                leftBtns: ['<a href="javascript:void(0)" class="backBtn"><span>返回</span></a>'],                rightBtns: ['<a href="javascript:void(0)" class="saveBtn"><span>保存</span></a>'],                fixed: true            });                        this.user = new user(true);            this.note = new note();            this.iscroll = new iScroll('content', {checkDOMChanges: true, onBeforeScrollStart: function(e){                var tag = e.explicitOriginalTarget? e.explicitOriginalTarget : (e.target ? e.target : ''),                    tagName = tag.nodeName.toLowerCase();                if(_.indexOf(['select', 'option', 'input', 'textarea', 'button'], tagName) == -1){                    e.preventDefault();                }            }});        },                events: {            'click .toolbar .backBtn': 'backList',            'click .toolbar .saveBtn': 'save',            'keyup .contentcontainer textarea.detail': 'adjust'        },                adjust:function(e){            $(e.target).height(e.target.scrollHeight - 4);        },                backList: function(e){            window.location.href = '/m/notes#list';        },                save: function(e){            var title = $('.titlecontainer input.title').val(),                content = $('.contentcontainer .detail').val();            this.note.createNote(this.user.id, this, title, content);        }    });});